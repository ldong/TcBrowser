<html>
<head>
<title>Â Problem Statement for NegativePhotoresist</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for NegativePhotoresist</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>You are responsible for fabricating a circuit board for an engineering firm.  The circuit consists of pinholes (where pins of various components will be inserted) connected by metal traces.  For this problem, assume that pinholes can be treated as points in a plane and metal traces can be treated as straight line segments connecting two pinholes.</p>

<p>A highly simplified description of the fabrication process follows.  The circuit pattern is cut out of a sheet of opaque material, forming a mask.  A sheet of metal is covered with a thin film of material, called negative photoresist, that hardens when exposed to ultraviolet light.  The mask is placed over the photoresist and illuminated with ultraviolet light, hardening the photoresist where the light passes through the mask.  Finally, the metal sheet is bathed in an etching solution, which destroys the metal except where it is protected by hardened photoresist.  The remaining metal forms the circuit.</p>

<p>After a long period of carefully laying out the circuit board, you have the mask prepared.  Just before you illuminate the photoresist with ultraviolet light, your boss rushes in and gives you some last minute requirements: the sum of the lengths of the shortest metal trace paths between each pair of pinholes must be under a certain limit, and the board has to be ready by <i>tomorrow</i>.  In other words, if you find the shorest path between every pair of connected pins, the sum of the lengths of all these shortest paths must be under the limit.  There is no way you can redesign everything in one day, so you decide to improvise.  By tilting the mask around its x-axis before you illuminate the photoresist, the circuit will be shrunk along the y-direction; only the projection of the mask on the plane of the photoresist is important since you are shining light through it (assume the light rays are parallel to the z-axis and ignore diffraction effects).  Since this also moves the locations of the pins, you want to tilt the mask as little as possible.</p>

<p>Write a class NegativePhotoresist with a method minimumTilt that takes a String[] <b>pinConnections</b> specifying for each pinhole its mask-plane coordinates and its connections to other pinholes and an int <b>limit</b>, and returns as a double the minimum non-negative angle (in radians) the mask must be rotated around the x-axis such that the sum of the lengths of the shortest paths between each pair of pinholes is less than <b>limit</b>.  If there is no path between a pair of pinholes, omit that pair from the sum.</p>

<p>Each element of <b>pinConnections</b> corresponds to one pinhole.  Element <i>i</i> will begin with a pair of integers specifying the x and y coordinates of pinhole <i>i</i> separated by a single comma.  Following this is a space-separated list of zero or more integers specifying the zero-based indices of the pinholes that <i>i</i> connects to.  All integers are non-negative and may have leading zeroes.  For this problem, pinholes are directly connected if and only if they are specified to connect in <b>pinConnections</b>.  In other words, overlapping or coinciding metal traces do not create a connection.</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">NegativePhotoresist</td></tr><tr><td class="statText">Method:</td><td class="statText">minimumTilt</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[], int</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double minimumTilt(String[] pinConnections, int limit)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">A return value with either an absolute or relative error of less than 1e-9 radians is considered correct.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">There can only be up to one connection between a pair of pinholes.  If an index <i>j</i> appears multiple times in element <i>i</i> of <b>pinConnections</b>, there is still only one metal trace between pinholes <i>i</i> and <i>j</i>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The sum over all pairs of the shortest path lengths will be minimized when the mask is rotated by Pi / 2 radians.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Pairs are unordered.  The pair (pinhole <i>i</i>, pinhole <i>j</i>) is the same as (pinhole <i>j</i>, pinhole <i>i</i>).</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The correct answer will be between 0.01 and 1.55, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>pinConnections</b> will contain between 2 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Elements of <b>pinConnections</b> will contain at most 50 characters.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Elements of <b>pinConnections</b> will be formatted &quot;<i>X</i>,<i>Y</i> <i>P<sub>1</sub> P<sub>2</sub> P<sub>3</sub> ...</i>&quot; (quotes are for clarity) where <i>X</i> and <i>Y</i> are between 0 and 100000 inclusive, and each of the indices <i>P<sub>j</sub></i> will be separated by a single space and will be between 0 inclusive and the number of elements in <b>pinConnections</b> exclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">If pinhole <i>i</i> connects to pinhole <i>j</i>, pinhole <i>j</i> will also connect to pinhole <i>i</i>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">A pinhole will not connect to itself.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>limit</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;3,0 2 3&quot;,
&quot;13,0 2 3&quot;,
&quot;0,2 0 1&quot;,
&quot;8,50 0 1&quot;,
&quot;3,100000 5&quot;,
&quot;100000,3 4&quot;,
&quot;8432,221&quot;}</pre></td></tr><tr><td class="statText"><pre>100835</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.4454078077996135</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Pinholes 0, 2, 1, and 3 form a cycle (in that order).  When the mask is laid flat, the shortest path between pinholes 0 and 1 goes through pinhole 2.  However, if the mask is tilted by more than 1.4454039026103331 radians, the shortest path between pinholes 0 and 1 switches to go through pinhole 3.  The shortest path between pinholes 2 and 3 always goes through pinhole 0, regardless of the angle.  Pinholes 4 and 5 form a separate component that contains only one connection.  Pinhole 6 is not connected to anything, and therefore does not influence the total path length.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;3,0 2 3&quot;,
&quot;13,0 2 3&quot;,
&quot;0,2 0 1&quot;,
&quot;8,50 0 1&quot;,
&quot;3,100000 5&quot;,
&quot;100000,3 4&quot;,
&quot;8432,221&quot;}</pre></td></tr><tr><td class="statText"><pre>141601</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.010604469396671205</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This is the same mask as in Example 0.  It only has to be tilted slightly to achieve a total shortest path length of 141601.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;3,0 2 3&quot;,
&quot;13,0 2 3&quot;,
&quot;0,2 0 1&quot;,
&quot;8,50 0 1&quot;,
&quot;3,100000 5&quot;,
&quot;100000,3 4&quot;,
&quot;8432,221&quot;}</pre></td></tr><tr><td class="statText"><pre>100065</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.5491503047781332</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This is the same mask as in Example 0.  It has to be tilted until it is almost standing on its edge to achieve a total shortest path length of 100065.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;76492,66181 1&quot;,
&quot;74004,26736 0 14&quot;,
&quot;22967,14922&quot;,
&quot;5781,62226&quot;,
&quot;82836,93961 23&quot;,
&quot;87218,72769 19&quot;,
&quot;93356,54263 21 23&quot;,
&quot;31487,92953&quot;,
&quot;4108,40237 25&quot;,
&quot;90459,36018 18&quot;,
&quot;86769,8014&quot;,
&quot;6311,25772 13&quot;,
&quot;9507,63470 20&quot;,
&quot;30653,48087 11 15&quot;,
&quot;84214,63941 1&quot;,
&quot;87079,8036 13&quot;,
&quot;10892,10164 25 23&quot;,
&quot;31650,57394&quot;,
&quot;12181,22580 9&quot;,
&quot;8820,66849 5&quot;,
&quot;63222,10057 12&quot;,
&quot;85163,78521 6&quot;,
&quot;73264,56781&quot;,
&quot;45982,63119 4 6 16&quot;,
&quot;96653,33496&quot;,
&quot;4728,75705 8 16&quot;,
&quot;93821,30582&quot;,
&quot;9948,22812&quot;}</pre></td></tr><tr><td class="statText"><pre>2198136</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.078664288678656</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;26749,31005 7 12 37 22 3 31 18 14 22 43 18 47 27&quot;,
&quot;89443,23479 37 20 18 45 4 28 45 48 45 48 42 43&quot;,
&quot;26624,91482 8 10 9 47 38 7 26 38 7 15 24 33 13 19&quot;,
&quot;74780,3281 5 35 24 0 32 6 7 40 16 44 27 29 27 42&quot;,
&quot;64491,34646 12 42 9 10 25 1 14 22 32 28 16 24 49&quot;,
&quot;57611,97350 3 6 16 38 37 26 7 46 47 9 34 17 36 33&quot;,
&quot;54900,19650 5 41 17 21 3 41 45 9 45 24 7 29 49 33&quot;,
&quot;37779,84466 30 37 0 43 36 2 5 45 31 2 3 13 17 6 27&quot;,
&quot;68486,19205 2 14 42 44 17 34 25 41 38 43 10 49 11&quot;,
&quot;86915,28119 21 31 2 40 31 12 49 41 4 22 5 34 6 46&quot;,
&quot;81402,18667 40 2 17 17 18 8 4 12 38 12 15 26 42 12&quot;,
&quot;76982,50425 29 29 13 8 36 49 16 27 26 28 27 34 46&quot;,
&quot;43766,59005 15 27 0 9 4 22 10 10 49 44 37 10 34 24&quot;,
&quot;71619,57051 36 47 48 39 11 45 32 42 30 7 29 2 34&quot;,
&quot;95436,51350 8 18 23 22 17 23 22 16 0 48 19 4 24 19&quot;,
&quot;18419,71778 29 12 31 23 24 30 36 26 10 18 45 36 2&quot;,
&quot;58370,12207 48 33 5 14 19 47 11 28 44 3 18 32 4 46&quot;,
&quot;93954,84580 33 21 10 8 47 35 32 6 10 14 43 22 5 7&quot;,
&quot;37005,46508 14 29 22 1 10 0 23 37 15 0 31 16 31 41&quot;,
&quot;25700,33156 20 25 35 40 38 16 14 22 14 23 27 25 2&quot;,
&quot;87882,64415 19 35 35 33 1 24 26 24 34 41 34 31 29&quot;,
&quot;80610,20042 9 27 35 28 46 17 37 28 36 37 6 41 34&quot;,
&quot;55546,68119 39 18 34 14 12 0 14 9 0 17 39 4 19 27&quot;,
&quot;12701,80882 30 32 15 14 37 42 14 47 18 33 47 19 46&quot;,
&quot;14048,1355 15 20 20 3 28 42 14 12 2 49 45 25 6 4&quot;,
&quot;27482,63293 49 38 45 19 8 39 4 38 47 38 46 19 24&quot;,
&quot;48215,66574 35 41 32 30 20 41 5 2 15 35 10 11 49&quot;,
&quot;53613,76037 21 12 40 11 42 46 0 3 49 11 19 3 22 7&quot;,
&quot;90922,15011 21 30 40 40 40 21 44 24 1 16 4 11 49&quot;,
&quot;67445,91022 15 11 35 47 18 11 38 20 13 38 3 32 6&quot;,
&quot;93451,40067 41 23 7 28 26 47 42 15 44 49 31 13 31&quot;,
&quot;25947,11589 9 15 9 40 39 0 30 7 18 20 30 35 43 18&quot;,
&quot;98403,23751 47 37 44 26 23 17 3 13 48 4 16 42 29&quot;,
&quot;32918,74706 17 16 39 47 41 20 23 36 5 35 2 6 43 43&quot;,
&quot;9851,96894 8 22 44 36 20 21 5 20 12 9 43 13 46 11&quot;,
&quot;86305,55072 37 21 26 29 20 3 20 17 19 46 26 33 31&quot;,
&quot;66150,16273 45 13 39 7 21 34 15 11 45 39 15 33 5&quot;,
&quot;95275,37494 1 35 32 43 7 0 21 23 5 39 44 21 18 12&quot;,
&quot;16184,79884 40 25 39 5 8 2 19 10 47 2 25 29 25 29&quot;,
&quot;77000,48925 33 22 36 38 25 37 13 31 40 46 40 36 22&quot;,
&quot;19246,92639 10 38 9 28 19 28 28 48 31 27 39 39 3&quot;,
&quot;37419,96699 30 26 33 6 9 8 45 26 21 6 20 46 18 43&quot;,
&quot;65611,72059 8 30 23 4 44 24 10 13 27 3 32 1 48 48&quot;,
&quot;78307,80168 37 7 8 17 0 31 34 41 48 33 33 48 1 48&quot;,
&quot;35276,57349 8 32 45 34 30 37 28 42 12 46 16 49 3&quot;,
&quot;10106,992 36 25 44 41 1 7 36 13 15 6 6 1 24 49 1&quot;,
&quot;43647,68652 21 5 35 44 39 27 41 9 25 16 34 23 11&quot;,
&quot;7588,43383 32 33 29 2 17 13 30 38 23 16 25 5 23 0&quot;,
&quot;39549,20275 16 13 40 14 32 43 1 1 42 43 42 43&quot;,
&quot;49470,43071 25 9 8 12 30 11 44 26 28 27 24 45 4 6&quot;}</pre></td></tr><tr><td class="statText"><pre>45315043</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.4635199471353126</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=5856&pm=2946">Single Round Match 210 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
