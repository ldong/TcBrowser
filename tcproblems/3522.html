<html>
<head>
<title>Â Problem Statement for HanoiDistance</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for HanoiDistance</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
In the famous <i>Towers of Hanoi</i> puzzle, you have three pegs, labeled A, B, and C, and <b>n</b> discs, of sizes 1 through <b>n</b>, inclusive.
The discs are initially stacked on peg A in order of size, with the smallest disc on top.  The goal is move the entire stack from peg A to peg C, under the constraints that you can only move one disc at a time and you can never move a larger disc onto a smaller disc.  In each move, you remove the top disc from one of the three pegs and place it on top of the discs on another peg.  In some cases, you 
move a disc to an empty peg, in which case the disc goes on the bottom of the peg.
</p>

<p>
There is a unique sequence of moves that solves the Towers of Hanoi puzzle in the minimum number of moves.  
There are a total of 2<sup><b>n</b></sup> configurations of discs that are encountered during the course of this solution, counting the
initial configuration.
Call each of these configurations <i>valid</i> and all other configurations <i>invalid</i>.
</p>

<p>
Your little sister dropped your Towers of Hanoi puzzle and put the discs back on random pegs.  She remembered to always put smaller discs on top of larger discs, but did not necessarily make a valid configuration.
You would be embarrassed if your friends saw your puzzle in an invalid configuration, so you want to
move the discs back into a valid configuration.  Naturally, you want to do so in the minimum number of moves.  As usual, you can only move one disc at a time and you can never place a larger disc on top of a smaller disc. 
</p>

<p>
You will be given the number of discs, <b>n</b>, and three int[]'s, <b>pegA</b>, <b>pegB</b>, and <b>pegC</b>, representing the order of the discs on each of the pegs, with the top disc on each peg at the front of the int[] and the bottom disc at the back.  Return the minimum number of moves required to reach a valid configuration.
</p>
</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">HanoiDistance</td></tr><tr><td class="statText">Method:</td><td class="statText">distance</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int[], int[], int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">long</td></tr><tr><td class="statText">Method signature:</td><td class="statText">long distance(int n, int[] pegA, int[] pegB, int[] pegC)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>n</b> is between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>pegA</b> contains between 0 and <b>n</b> elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>pegB</b> contains between 0 and <b>n</b> elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>pegC</b> contains between 0 and <b>n</b> elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>pegA</b> is between 1 and <b>n</b>, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>pegB</b> is between 1 and <b>n</b>, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>pegC</b> is between 1 and <b>n</b>, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each peg is sorted in increasing order.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each integer between 1 and <b>n</b>, inclusive, must appear on some peg.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">No element of <b>pegA</b>, <b>pegB</b>, or <b>pegC</b> may appear on more than one peg or more than once on the same peg.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>{ 1,2,3,4 }</pre></td></tr><tr><td class="statText"><pre>{ }</pre></td></tr><tr><td class="statText"><pre>{ }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This configuration is already valid, so no moves are necessary.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>{ }</pre></td></tr><tr><td class="statText"><pre>{ 1,2,3,4 }</pre></td></tr><tr><td class="statText"><pre>{ }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 15</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The whole stack should be on peg A or peg C, not peg B.  It takes 15 moves to transfer the entire stack to either of the other pegs.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>50</pre></td></tr><tr><td class="statText"><pre>{ 1,5,10,20,40,45,50}</pre></td></tr><tr><td class="statText"><pre>{ 2,4,8,16,32,48}</pre></td></tr><tr><td class="statText"><pre>{ 3,6,7,9,11,12,13,14,15,17,18,19,
  21,22,23,24,25,26,27,28,29,30,
  31,33,34,35,36,37,38,39,41,42,
  43,44,46,47,49 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 405717644182423</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=6531&pm=3522">2005 TCCC Round 4 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
