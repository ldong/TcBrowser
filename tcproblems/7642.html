<html>
<head>
<title>Â Problem Statement for PacketRepack</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for PacketRepack</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
You are writing a function to make two pieces of network equipment from
different vendors talk to each other.
They send and receive data packets with the same data fields, but arranged
in opposite orders.
Given a data packet from one piece of equipment, reverse the order of the
data fields so the second piece of equipment can read it.
</p>

<p>
The input data will be packed into N <b>b</b>-bit words, for a
total of N*<b>b</b> bits.
These words will be given to you as a int[] <b>input</b>.
The bit 0 of <b>input[0]</b> is bit 0 of the data packet,
and bit <b>b-1</b> of <b>input[N-1]</b> is bit N*<b>b</b>-1
of the data packet.
There will be <b>num_fields</b> fields, each <b>field_size</b> bits long.
The first field is packed into bits 0 through <b>field_size</b>-1,
the second field is packed into bits <b>field_size</b> through <b>field_size*2</b>-1, etc.
</p>

<p>
For example, given an input packet of { 22, 37, 3 }, with 6-bit words,
and four 4-bit fields, the fields would be extracted as
shown below:
</p>
<pre>

     input[2]    input[1]    input[0]
         |           |           |
    ----------- ----------- -----------
    0 0 0 0 1 1 1 0 0 1 0 1 0 1 0 1 1 0
        ------- ------- ------- -------
           |       |       |       |
           D       C       B       A
</pre>

<p>
Where A is the first field, B is the second field, C is the third field, and D is the forth field.
These fields have the values 6, 5, 9, and 3, respectively.
Reversing the order, the fields would be repacked like this:
</p>
<pre>

     output[2]   output[1]   output[0]
         |           |           |
    ----------- ----------- -----------
    0 0 0 1 1 0 0 1 0 1 1 0 0 1 0 0 1 1
        ------- ------- ------- -------
           |       |       |       |
           A       B       C       D
</pre>

<p>
and the correct output is { 19, 22, 6 }.
</p>

<p>
As shown in the example above, the upper bits of the packet may be unused.
These bits will be zero in the input, and must be set to zero in the output as well.
</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">PacketRepack</td></tr><tr><td class="statText">Method:</td><td class="statText">output</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int[], int, int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">int[]</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int[] output(int[] input, int b, int num_fields, int field_size)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>input</b> will contain between 1 and 10 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>input</b> will be between 0 and 2^<b>b</b>-1, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>b</b> will be between 1 and 31, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>field_size</b> will be between 1 and 31, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The size of <b>input</b> multipled by <b>b</b> will be greater than or equal to <b>num_fields</b>*<b>field_size</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Unused bits in the packet will be zeroes.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 22, 37, 3 }</pre></td></tr><tr><td class="statText"><pre>6</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {19, 22, 6 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This is the example from the problem statement.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 1, 0 }</pre></td></tr><tr><td class="statText"><pre>31</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {512, 0 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><p>
This 62-bit input packet has ten 1-bit fields, and 52 leading zeros.  The first field (bit 0) is 1, and the other nine are 0.
</p>
<p>
In the output, the tenth field (bit 9) should be set to 1, and all other bits should be 0.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 1, 0, 0, 0 }</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>31</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {0, 0, 0, 1 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 15834, 2483, 19423 }</pre></td></tr><tr><td class="statText"><pre>16</pre></td></tr><tr><td class="statText"><pre>8</pre></td></tr><tr><td class="statText"><pre>6</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {53074, 60455, 27516 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=10735&pm=7642">2007 TopCoder Open Qualification Round 3 - Division I, Level One</a>
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=10746&pm=7642">2007 TopCoder Open Sponsor Track Qualification - Division I, Level One</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
