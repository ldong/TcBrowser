<html>
<head>
<title>Â Problem Statement for RPN</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for RPN</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
<i>Reverse Polish Notation</i> (RPN) is a notation for writing arithmetic expressions that is famous for not needing parentheses.
Perhaps best known for its use in certain calculators, RPN is also commonly used in virtual machines such as the JVM.
The distinguishing feature of RPN is that arithmetic operators are written <i>after</i> their arguments.  For example, the infix expression <tt>&quot;3 - 4&quot;</tt> would be written in RPN as <tt>&quot;3 4 -&quot;</tt> (all quotes for clarity only).  Similarly, the infix expression <tt>&quot;(3 - 4) * 5&quot;</tt> 
would be written in RPN as <tt>&quot;3 4 - 5 *&quot;</tt>.  Notice how no parentheses were necessary in the RPN expression.  No confusion
is possible, because the infix expression <tt>&quot;3 - (4 * 5)&quot;</tt> would be written in RPN as <tt>&quot;3 4 5 * -&quot;</tt>.
</p>

<p>
An RPN expression is evaluated using a stack.  The expression is processed from left to right.  Each number is pushed onto the stack as
it is encountered.  When an operator is encountered, the appropriate number of arguments are popped off the stack, the operation is
performed, and the result is pushed back onto the stack.  The final answer is the value on the top of the stack when the end of the expression is reached.  The supported arithmetic operators are addition ('+'), subtraction ('-'), multiplication ('*'),
and unary negation ('~')
</p>

<p>
For example, the RPN expression <tt>&quot;2 3 + 6 ~ 7 * -&quot;</tt> would be evaluated as shown in the following table:
</p>
<pre>
    Remaining Expression   Stack     New Stack
      2 3 + 6 ~ 7 * -      []        [2]
        3 + 6 ~ 7 * -      [2]       [2 3]      &lt;---- Stacks grow to the right
          + 6 ~ 7 * -      [2 3]     [5]
            6 ~ 7 * -      [5]       [5 6] 
              ~ 7 * -      [5 6]     [5 -6]
                7 * -      [5 -6]    [5 -6 7]
                  * -      [5 -6 7]  [5 -42]
                    -      [5 -42]   [47]       &lt;---- Final answer is 47
</pre>

<p>
You will write a method that takes an RPN expression <b>expr</b> as a String, evaluates it, and returns its final value.
The expression will contain only digits ('0'-'9'), arithmetic operators ('+', '-', '*', '~'), and spaces (' ').
Only single-digit numbers will be allowed, and all numbers and operators will be separated by single
spaces, with no leading or trailing spaces.
</p>

<p>
An RPN expression is malformed if evaluating it would leave more than one value on the stack, or if evaluating it would cause some
operator to try to pop an empty stack.  Your method should return -999 if <b>expr</b> is malformed.
</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">RPN</td></tr><tr><td class="statText">Method:</td><td class="statText">evaluate</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int evaluate(String expr)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>expr</b> contains an odd number of characters between 1 and 33, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Every character in a (zero-based) odd position in <b>expr</b> is a space (' ').</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Every character in a (zero-based) even position in <b>expr</b> is either a digit ('0'-'9') or one of the characters '+', '-', '*', or '~'.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>&quot;2 3 + 6 ~ 7 * -&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 47</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The example above.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>&quot;5 ~ ~ ~&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Multiple negations are allowed.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>&quot;9 8 7 * * 4 5 - -&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 505</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>&quot;1 + 2 + 3&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -999</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>&quot;1 9 ~ 2 8 * +&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -999</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=4492&pm=1632">TopCoder Collegiate Challenge Semifinal Round 2 - Division I, Level One</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
