<html>
<head>
<title>Â Problem Statement for PostfixRLE</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for PostfixRLE</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p><i>Postfix notation</i> (or <i>reverse Polish notation</i>) is a method for writing down arithmetic expressions without brackets, but still maintaining the order of operations. The postfix notation for an expression consisting of a single variable or number consists only of that variable or number. The postfix notation for an expression "<tt>A#B</tt>" (here <tt>A</tt> and <tt>B</tt> are other expressions and '<tt>#</tt>' is the operator evaluated last in our expression) is obtained by concatenating the postfix notation for <tt>A</tt>, the postfix notation for <tt>B</tt>, and '#'.</p>
<p>For example, the postfix notation for "<tt>((a+f)*b)*(c*d)</tt>" is "<tt>af+b*cd**</tt>". Another way of looking at the postfix notation is that it is a program for a stack calculator. Every variable or number means "push that variable or number on the stack". Every operator means "pop the two top items from the stack, perform the operation on them, and push the result back on the stack". For example, when evaluating "<tt>af+b*cd**</tt>", the stack changes as follows: {<tt>a</tt>}, {<tt>a</tt>,<tt>f</tt>}, {<tt>a+f</tt>}, {<tt>a+f</tt>,<tt>b</tt>}, {<tt>(a+f)*b</tt>}, {<tt>(a+f)*b</tt>,<tt>c</tt>}, {<tt>(a+f)*b</tt>,<tt>c</tt>,<tt>d</tt>}, {<tt>(a+f)*b</tt>,<tt>c*d</tt>}, {<tt>((a+f)*b)*(c*d)</tt>}.</p>
<p>You are given an expression in postfix notation, containing only variables and operators. All the operators are binary (take two operands), associative, and commutative. That means for any operator <tt>#</tt>, expressions <tt>A</tt>, <tt>B</tt>, and <tt>C</tt>, the following properties hold:
<ul><li>Associativity: <tt>A#(B#C)=(A#B)#C</tt>. </li>
<li>Commutativity: <tt>A#B=B#A</tt>. </li></ul></p>
<p>That allows you to rearrange operands corresponding to the same operator. For example, using both rules one could rearrange the expression shown above:
<ul><li>As expression: "<tt>((a+f)*b)*(c*d)</tt>" can be rearranged to "<tt>d*((a+f)*(b*c))</tt>".</li>
<li>In postfix notation: "<tt>af+b*cd**</tt>" can be rearranged to "<tt>daf+bc***</tt>".</li></ul></p>
<p>Your task is to find a postfix expression that can be obtained by rearranging the initial expression using only the associativity and commutativity rules, and having the least RLE-size. The RLE-size of a string is the number of blocks of consecutive equal characters in it (i.e., the RLE-size of "<tt>xx+yy+zz+**</tt>" is 7).</p>
<p>The input for this problem is given as a String[] <b>expression</b>. Concatenate all elements of that String[] to get the initial expression in postfix notation. Each variable is denoted by a lowercase letter ('<tt>a</tt>'-'<tt>z</tt>'), and the operators are denoted by characters '<tt>+</tt>', '<tt>*</tt>', '<tt>#</tt>', '<tt>!</tt>', '<tt>@</tt>', '<tt>$</tt>', '<tt>%</tt>' and '<tt>^</tt>'. You are to return the smallest possible RLE-size of a postfix expression that can be obtained from the initial expression by applying some (possibly none) of the above rules.</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">PostfixRLE</td></tr><tr><td class="statText">Method:</td><td class="statText">getCompressedSize</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int getCompressedSize(String[] expression)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">All the quotes in the problem statement are for clarity only.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>expression</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>expression</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each character in each element of <b>expression</b> will be a lowercase letter ('<tt>a</tt>'-'<tt>z</tt>'), '<tt>+</tt>', '<tt>*</tt>', '<tt>#</tt>', '<tt>!</tt>', '<tt>@</tt>', '<tt>$</tt>', '<tt>%</tt>' or '<tt>^</tt>'.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>expression</b> will be a valid arithmetic expression in postfix notation.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;af+b*cd**&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 7</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">"<tt>daf+bc***</tt>" is one of the possible best rearrangements.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;xy*x*y*x*y*&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Yields "<tt>xxxyyy*****</tt>" or "<tt>yyyxxx*****</tt>".</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;abcdefg!@#$%^&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 13</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">No point in changing anything here.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;xy@z@ab@c@yc%%%&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 9</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;abc++&quot;,
&quot;abc++&quot;,
&quot;abc++&quot;,
&quot;a&quot;,
&quot;b&quot;,
&quot;c&quot;,
&quot;*&quot;,
&quot;*&quot;,
&quot;*&quot;,
&quot;*&quot;,
&quot;*&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 13</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=10007&pm=6834">Single Round Match 327 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
