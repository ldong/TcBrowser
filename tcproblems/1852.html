<html>
<head>
<title>Â Problem Statement for Polynomials</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for Polynomials</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>The theory of elliptic curves is involved with finding the number and properties of rational points -- that is, points whose x and y values are rational numbers -- and studying relationships between them.  Elliptic curves, however, are curves of the form y^2 + ay + b = x^3 + cx^2 + dx + e. You feel that this type of equation is a bit too restrictive, and so you're going to generalize things a bit.</p>

<p>Given a String <b>equation</b>, and two ints <b>xmax</b> and <b>ymax</b>, find the number of lattice points (x,y) that satisfy <b>equation</b> and such that 0 &lt;= x &lt;= xmax and 0 &lt;= y &lt;= ymax. Lattice points are those with both coordinates being integers.</p>

<p>The string representing the equation follows the format &quot;f(y)=g(x)&quot;, in more detail below:</p>

<p>
Equation := Function(y) &quot;=&quot; Function(x)<br>
Function(y) := Term(y) | Term(y) + Function(y)<br>
Term(y) := Integer &quot;y&quot; Power | Integer<br>
Integer := 0-9<br>
Power := &quot;^&quot; Integer<br></p>

<p>(Function(x) is analogous to Function(y).)</p>

<p>If there are terms in a given function that are of the same power, consider their coefficients to be added together.  For example, the equation &quot;9y^3+5y^3=3+6&quot; would be equivalent to &quot;14y^3=9&quot; (except that the latter is not in proper form and is thus illegal as input).</p>

<p>Note that no term of the form &quot;Nx^0&quot; will be allowed, to prevent ambiguity regarding 0^0.</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">Polynomials</td></tr><tr><td class="statText">Method:</td><td class="statText">integralPoints</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int, String</td></tr><tr><td class="statText">Returns:</td><td class="statText">long</td></tr><tr><td class="statText">Method signature:</td><td class="statText">long integralPoints(int ymax, int xmax, String equation)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">For C++ coders, the 64-bit integer type is <b>long long</b> (a gcc extension).</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>xmax</b> will be between 0 and 1000000, inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>ymax</b> will be between 0 and 1000000, inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>equation</b> will be between 3 and 50 characters, inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>equation</b> will follow the form &quot;f(y)=g(x)&quot; given above</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">no y between 0 and <b>ymax</b>, inclusive, will cause f(y) to exceed 2^63 - 1</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">no x between 0 and <b>xmax</b>, inclusive, will cause g(x) to exceed 2^63 - 1</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">no term of the form Nx^0 will be allowed in the input.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">no term of the form Ny^0 will be allowed in the input.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>&quot;1y^1=1x^1&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 6</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The points that work are those where y = x, that is, (0,0), (1,1), (2,2), (3,3), (4,4), and (5,5).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>65</pre></td></tr><tr><td class="statText"><pre>34</pre></td></tr><tr><td class="statText"><pre>&quot;1y^2=1x^3&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The points are (0,0), (1,1), (4,8), (9,27), and (16,64).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>1000000</pre></td></tr><tr><td class="statText"><pre>1000000</pre></td></tr><tr><td class="statText"><pre>&quot;1=1x^2&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1000001</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Constants by themselves are allowed on either or both sides.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>55000</pre></td></tr><tr><td class="statText"><pre>15982</pre></td></tr><tr><td class="statText"><pre>&quot;1y^4+1y^2=5+9+6&quot;</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 15983</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=4655&pm=1852">Single Round Match 170 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
