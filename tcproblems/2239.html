<html>
<head>
<title>Â Problem Statement for BinaryQuipu</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for BinaryQuipu</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
<i>

<b>Warning</b>: Embedded in this problem statement are images that may
not be visible if you are using a plugin. For best results, view this
problem in the standard Arena editor.

</i>
</p><p>

&quot;To heck with this quipu!&quot; exclaimed Tupac the Incan philosopher. He
was trying to record the contents of his household using the knot
language of Peru, but the rules were too complicated. Who besides a
tax collector could keep track of all the fixed knots, transient knots,
and rhetorical knots?

</p><p>

After some thought, Tupac contrived a simpler scheme that would encode
each inventory item on a length of string using a sequence of square
knots and bow knots. For one particular collection of four items, he
tied the following four strings, where 's' stands for a square knot and
'b' for a bow knot: {&quot;bsb&quot;, &quot;bbs&quot;, &quot;sbbs&quot;, &quot;sbs&quot;}.

</p><p>

This took 13 knots. Tupac now gathered the strings into a quipu by tying
them at one end with a top knot, making a grand total of 14 knots. The
result of his efforts is depicted in the following image, where the bow
knots are colored blue; the square knots, red; and the top knot, black.

</p><p>

<center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_dreads.gif"></center>

</p><p>

&quot;The top knot is important,&quot; explained Tupac to his wife, Cuxi, &quot;because
it shows me where to start reading each item.&quot;

</p><p>

&quot;Let me see that,&quot; said Cuxi, reaching for the quipu. &quot;I can record the
same four items using fewer knots.&quot;

</p><p>

Once Cuxi had cut off some parts of the quipu and reknotted a few
others, it emerged like so.

</p><p>

<center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_full.gif"></center>

</p><p>

Her husband goggled at this feat. &quot;Three knots fewer!&quot; he cried. &quot;And
it encodes exactly the same inventory!&quot;

</p><p>

Tupac saw that if he began from the top knot and followed a path through
the quipu from left to right until the end of a string, he could spell out
any inventory item, but nothing that wasn't in the inventory. This was an
improvement over the original quipu, in which he sometimes found himself
reading the wrong item and therefore having to backtrack to the top knot.

</p><p>

&quot;I can do better yet,&quot; said Cuxi, &quot;if I join some strings at the other
end of the quipu. Watch this.&quot;

After some more cutting and reknotting, she produced the following
configuration.

</p><p>

<center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_compressed.gif"></center>

</p><p>

Cuxi stated emphatically that you weren't supposed to pursue a looping 
path through the quipu. &quot;Follow the grain of the string from beginning
to end,&quot; she said, &quot;and make sure you don't double back. The quipu only
works in one direction.&quot;

</p><p>

She also pointed out that the paths were deterministic: at every
knot where the quipu bifurcated, there was a choice of two different
knots. This guaranteed that any inventory item could be found without
backtracking or pursuing several paths at once.

</p><p>

Tupac was pleased to confirm that Cuxi's abbreviated quipu was
functionally equivalent to the original. He could begin reading from
the top knot and proceed strictly from left to right through the knots,
following one of four distinct paths that spelled out exactly the items
of the inventory.

</p><p>

&quot;I can't make it any smaller,&quot; said Cuxi, &quot;but a quipu with eight knots
is an improvement over the original fourteen. So I'm pretty good. I'm
only worried about cases where one item in the inventory is a prefix
of another.&quot; 

</p><p>

&quot;There will never be such a case,&quot;  said Tupac. &quot;As it happens, my
inventory encoding has the property that no item can be a prefix of
another.&quot;

</p><p>

You are given a String[] describing a collection of inventory
items encoded under Tupac's system. Calculate the smallest number of
knots, including the top knot, that must be tied to make a deterministic
binary quipu for this inventory.

</p> 

</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">BinaryQuipu</td></tr><tr><td class="statText">Method:</td><td class="statText">fewestKnots</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int fewestKnots(String[] inventory)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Since Tupac's encoding precludes any inventory where one item is a prefix of another, there will be no duplicates.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>inventory</b> contains between 1 and 50 elements, inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">each element of <b>inventory</b> is between 1 and 50 characters long, inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">no element of <b>inventory</b> is a prefix of any other element</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">each character in every element of <b>inventory</b> is either 's' or 'b'</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;bsb&quot;, &quot;bbs&quot;, &quot;sbbs&quot;, &quot;sbs&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 8</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This is the example shown above.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;s&quot;, &quot;b&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case01.gif"></center></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;bs&quot;, &quot;sb&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case02.gif"></center></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;bs&quot;, &quot;sb&quot;, &quot;bb&quot;, &quot;ss&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case03.gif"></center></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;bssbs&quot;, &quot;ssbs&quot;, &quot;sbb&quot;, &quot;bbs&quot;, &quot;sbs&quot;, &quot;ssbb&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 10</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><center><img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case04.gif"></center></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;bbbsssbbsbbssbbbbs&quot;,
&quot;bssssbbbbsbbsbbbbbbsbbsbsssbbbsbbbbbsbbssbsb&quot;,
&quot;sbbbbbsbbbsbsssbssssbssbbsssssssbbssss&quot;,
&quot;sbbbbbsbsbssbssbsssbsbbsbssbsbbbsbsbs&quot;,
&quot;bsbbbbbssbsbbbbsbbs&quot;,
&quot;bbsbbsbsssbsbbsbbssbbbsbsssbsbbsbsbssbsbsssbsbsbs&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 181</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=4680&pm=2239">Single Round Match 175 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
