<html>
<head>
<title>Â Problem Statement for BunnyExam</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for BunnyExam</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText">Bunnies like programming and they sometimes make useful devices. 
<br>
<br>
One group of bunnies made a device called RandomAnswerer for their final exam. 
They cannot solve any of the problems, so they will try to answer the questions randomly. 
<br>
<br>
There are <b>m</b> problems numbered 1 through <b>m</b>. 
The answer for each problem will be one of the integers between 1 and <b>k</b>, inclusive.
We also know the following: 
<ul>
	<li>The answer to problem x is <i>different</i> from that of problem x + 1, where 1 &lt;= x &lt; <b>m</b>. </li>
	<li>We have a int[] <b>linkage</b> containing N * 2 elements. 
	For each i, where 0 &lt;= i &lt; N, the answer to problem <b>linkage</b>[i * 2] is the <i>same</i> as that of <b>linkage</b>[i * 2 + 1]. 
	Note that all elements in <b>linkage</b> are distinct. </li>
</ul>
RandomAnswerer makes a sequence of <b>m</b> answers and shows it to the bunnies. 
Both the sequence produced by RandomAnswerer and the sequence of correct answers 
are chosen among all possible sequences of <b>m</b> answers that agree with the information above, 
randomly (all of them have the same probability of being chosen) and independently. 
Return the expected number of correct answers bunnies get. 
If there is any contradiction in the information, i.e., there are no sequences of answers that agree with all of it, return -1.0 instead. 
</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">BunnyExam</td></tr><tr><td class="statText">Method:</td><td class="statText">getExpected</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int, int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double getExpected(int m, int k, int[] linkage)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The returned value must have an absolute or relative error less than 1e-9. </td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>m</b> and <b>k</b> will each be between 1 and 1,000,000,000, inclusive. </td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>linkage</b> will contain between 0 and 20 elements, inclusive. </td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>linkage</b> will contain an even number of elements. </td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>linkage</b> will be between 1 and <b>m</b>, inclusive. </td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">All elements of <b>linkage</b> will be distinct. </td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>3</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>{ 1, 3 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here problems 1 and 2 have different answers, problems 2 and 3 have different answers and problems 1 and 3 have the same answer. 
<br>
The answers will be either (1, 2, 1) or (2, 1, 2), 
so the number of correct answers bunnies get will be 3 or 0 with equal probability. 
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>{ 1, 4 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This is impossible. 
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>8</pre></td></tr><tr><td class="statText"><pre>{ }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.25</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><b>linkage</b> may be empty. 
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>1000000000</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>{ 11, 13, 2010, 487 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1.0</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>128</pre></td></tr><tr><td class="statText"><pre>64</pre></td></tr><tr><td class="statText"><pre>{ 32, 16, 8, 4, 2, 1 }
</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>13</pre></td></tr><tr><td class="statText"><pre>3</pre></td></tr><tr><td class="statText"><pre>{ 1, 3, 7, 9, 13, 10, 6, 2  }
</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 4.333333333333333</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=14240&pm=11011">Single Round Match 487 Round 1 - Division I, Level Two</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
