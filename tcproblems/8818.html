<html>
<head>
<title>Â Problem Statement for SequentialT</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for SequentialT</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText">You have written a complicated multi-threaded program, and you would like to analyze its expected runtime.
<br><br>
The program consists of <i>n</i> threads in a specific order, indexed from 0 to <i>n</i>-1.  Each thread has a task to execute which is divided into up to 10 subtasks.  Each subtask requires one time slice to process, and they must be processed in order.  In every thread (except the first), one of the subtasks will be a special "synchronization" subtask; the thread may not process this subtask until all the threads with lower indices have finished.  The thread's task is described as a String with a character for each subtask.  A normal subtask is denoted by a '.'; the "synchronization" subtask is denoted by 'S'.
<br><br>
The processor executes your program in a simple way.  For each time slice it picks a thread uniformly at random and allows it to process one subtask.  If the chosen thread has already finished, the unfinished thread with the lowest index is picked instead.  However, if the chosen thread is blocked on a "synchronization" subtask, that time slice is wasted.  (Yes, this is a silly way to implement multithreading!)
<br><br>
Return the expected (average) number of time slices the entire program will take to execute.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">SequentialT</td></tr><tr><td class="statText">Method:</td><td class="statText">expectedExecutionTime</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double expectedExecutionTime(String[] threads)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The returned value must be accurate to within a relative or absolute value of 1E-9.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>threads</b> will contain between 1 and 10 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>threads</b> will contain between 1 and 10 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>threads</b> will contain only the characters '.' and 'S'.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>threads</b>, except the first, will have exactly one 'S'.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The first element of <b>threads</b> will not contain an uppercase 'S'.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;.....&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 5.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">No multithreading; just 5 subtasks to perform.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;.&quot;,&quot;S&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 2.9999999999999996</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">There's a 1/2 chance of 0 wasted time slices, a 1/4 chance of 1, a 1/8 of 2, and so on.  An average of 1 time slice is wasted.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;..&quot;,&quot;S&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 4.999999999999999</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Now there is a (<i>k</i>+1)/2<sup><i>k</i>+2</sup> chance of wasting <i>k</i> time slices.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;.&quot;,&quot;...S.&quot;,&quot;.........S&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 16.144458312987712</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">These threads will most likely not have to wait.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;.....&quot;,&quot;...S...&quot;,&quot;S......&quot;,&quot;......S..&quot;,&quot;...S.&quot;,&quot;..S&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 65.45700302526924</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=12017&pm=8818">2008 TopCoder Open Semifinal Room 3 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
