<html>
<head>
<title>Â Problem Statement for DogWoods</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for DogWoods</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
<i>This problem uses subscripts and superscripts which may not display properly for plugin users.</i><br><br>
We've all heard the riddle &quot;How far can a dog run into the woods?&quot;, where the expected answer is &quot;halfway&quot;. However, this is only correct if worded as &quot;How far can a dog run directly into the woods?&quot;. We're here today to solve the actual problem, where &quot;running into&quot; is defined as moving in a way such that for any two times t<sub>1</sub>&gt;0 and t<sub>2</sub>&gt;0, t<sub>1</sub>&lt;t<sub>2</sub> if and only if distance(position(t<sub>1</sub>))&gt;distance(position(t<sub>2</sub>)), where distance(p) is the distance (in a straight line) from the center of the woods to a position, and position(t) is the dog's position at time t. Complicating (and making more realistic) our problem are the trees in the woods. Each tree is defined by <b>x</b> and <b>y</b> coordinates, and a <b>diameter</b>. As any dog owner can attest, it is in a dog's nature to run in circles. Our dog is slightly demented, so his nature is to run in clockwise circles centered at the center of the woods until he hits a tree. If he hits a tree, he runs counterclock-wise around the tree until he is able to travel clockwise tangent to the center of the woods.
</p>

<p>
You are to create a class DogWoods, with a method howFar, which takes int[]s containing the <b>x</b> and <b>y</b> coordinates, and the <b>diameter</b>s of each tree. The method will also take parameters <b>startx</b> and <b>starty</b>, which are the starting x and y coordinates for the dog. The <i>i</i>th element of <b>x</b> corresponds to the <i>i</i>th element of <b>y</b>, which corresponds to the <i>i</i>th element of <b>diameter</b>. The dog is determined to have reached the center of the woods when the dog's distance to the center is &lt;= 10 units. Your method must return the distance that would be travelled by the dog, while obeying his nature, before he reaches the center of the woods. Your return value must be within 1e-9 relative or absolute error of the correct value.
</p>

<p>
The location (0,0) is the center of the woods, with the positive x axis extending to the right, and the positive y axis extending up (a standard Cartesian plane).
</p>

<p>
If the dog would run an infinitely long distance while obeying his nature, then your method should return -1.
</p>

<p>
Given two circles with the following equations,
</p>
	(x - x<sub>0</sub>)<sup>2</sup> + (y - y<sub>0</sub>)<sup>2</sup> = r<sub>0</sub><sup>2</sup> (A circle centered at (x<sub>0</sub>,y<sub>0</sub>) with radius r<sub>0</sub>)
<br>
	x<sup>2</sup> + y<sup>2</sup> = r<sub>1</sub><sup>2</sup> (A circle centered at (0,0) with radius r<sub>1</sub>)
<p>
their points of intersection are given by:
</p>
<p>
	x = x<sub>0</sub> / 2 - x<sub>0</sub>(r<sub>0</sub><sup>2</sup> - r<sub>1</sub><sup>2</sup>) / 2d + y<sub>0</sub>p / 2d
<br>
	y = y<sub>0</sub> / 2 - y<sub>0</sub>(r<sub>0</sub><sup>2</sup> - r<sub>1</sub><sup>2</sup>) / 2d - x<sub>0</sub>p / 2d
<br>
and
<br>
	x = x<sub>0</sub> / 2 - x<sub>0</sub>(r<sub>0</sub><sup>2</sup> - r<sub>1</sub><sup>2</sup>) / 2d - y<sub>0</sub>p / 2d
<br>
	y = y<sub>0</sub> / 2 - y<sub>0</sub>(r<sub>0</sub><sup>2</sup> - r<sub>1</sub><sup>2</sup>) / 2d + x<sub>0</sub>p / 2d
<br>
where
<br>
	d = x<sub>0</sub><sup>2</sup> + y<sub>0</sub><sup>2</sup>
<br>
	p = sqrt(((r<sub>0</sub> + r<sub>1</sub>)<sup>2</sup> - d)(d - (r<sub>1</sub> - r<sub>0</sub>)<sup>2</sup>))
<br>
</p>
</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">DogWoods</td></tr><tr><td class="statText">Method:</td><td class="statText">howFar</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int[], int[], int[], int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double howFar(int[] x, int[] y, int[] diameter, int startx, int starty)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The dog will always obey his nature as described.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The dog may not run through any part of a tree.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Trees are to be considered exactly round.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The dog should be treated as a mathematical point. I.e., it has no diameter.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The distance around a circle is pi * diameter.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">pi ~ 3.14159265358979.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>x</b>, <b>y</b>, and <b>diameter</b> will all have the same number of elements.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>x</b> will have between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Every element of <b>x</b> and <b>y</b> will be between -1000 and 1000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Every element of <b>diameter</b> will be between 1 and 100, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>startx</b> and <b>starty</b> and will be between -1000 and 1000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The closest that the perimeter of any two trees will be to each other is 1e-6.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">For any two trees a and b, the distance of the closest point to the center of a will not be within 1e-6 of the distance of the furthest point to the center of b.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">No tree will completely cover the circle of diameter 20 at the center of the woods.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">For every tree, the circle of diameter 20 will either not intersect that tree, or it will intersect by at least 1e-6 units at the greatest width of intersection.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The dog will not start in the midst of a tree.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{0}</pre></td></tr><tr><td class="statText"><pre>{10}</pre></td></tr><tr><td class="statText"><pre>{10}</pre></td></tr><tr><td class="statText"><pre>-14</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 23.64281561414452</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The dog travels until it meets the tree, covering 18.431923291703267 units, and then travels around the tree until it is within 10 units of the center, for another 5.2108923224412536 units.<br>
In the image, the red lines represents the dog's path, the black circle the tree, and the blue circle the center of the forest.<br>
<img src="http://www.topcoder.com/contest/problem/DogWoods/dog0.png"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{40,15,-5}
</pre></td></tr><tr><td class="statText"><pre>{7,25,11}</pre></td></tr><tr><td class="statText"><pre>{26,12,23}</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>-49</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 531.3835950099849</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">In this image, the red lines represents the dog's path, the black circles the trees, and the blue circle the center of the forest.<br>
<img src="http://www.topcoder.com/contest/problem/DogWoods/dog1.png"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{3}</pre></td></tr><tr><td class="statText"><pre>{3}</pre></td></tr><tr><td class="statText"><pre>{3}</pre></td></tr><tr><td class="statText"><pre>12</pre></td></tr><tr><td class="statText"><pre>12</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The dog can continue spiraling around the center never meeting a tree.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{15}</pre></td></tr><tr><td class="statText"><pre>{15}</pre></td></tr><tr><td class="statText"><pre>{1}</pre></td></tr><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>8</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The dog started within 10 units of the center, and therefore cannot travel any further.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{-220,-204,-187,-11,16,211,-180,87,272,-118,-1,16,187,113,71,217,-12,78} </pre></td></tr><tr><td class="statText"><pre>{232,-162,60,-125,-22,-266,-120,-242,87,-148,50,-218,161,-232,249,215,11,-79}</pre></td></tr><tr><td class="statText"><pre>{53,8,77,74,4,42,36,31,73,84,67,59,33,18,94,87,13,59} </pre></td></tr><tr><td class="statText"><pre>51</pre></td></tr><tr><td class="statText"><pre>-255</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3564.170613418495</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=5872&pm=2887">Single Round Match 201 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
