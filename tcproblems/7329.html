<html>
<head>
<title>Â Problem Statement for AdaptiveRouting</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for AdaptiveRouting</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>A network consists of routers and links. Each link directly connects two routers. Links can transfer
data in both directions, and have unlimited bandwidth but limited transfer speed. We know how many time
units it takes for each link to transmit a packet from one end to the other.</p>

<p>The routers know the layout of the network and relay data packets so that the packet reaches its
destination in the shortest possible time. Suppose a router wants to send a packet to some other
router. The source router will calculate the shortest path to the destination router and send the
packet to the first router on that path. That router will then proceed in the same way, and so on
until the packet reaches its destination. If a router can send to more than one neighboring router and 
have the packet delivered in the same minimal time, it will send to the lowest-numbered of those routers.</p>

<p>When a link fails, the two routers it connected know about it immediately, but the other routers do not.
The two routers generate control packets containing information about the failed link
and distribute the control packets to all their immediate neighbors (over links that haven't failed themselves). When a router receives a
control packet, it updates its internal layout of the network and passes copies of the control
packet to its neighbors.</p>

<p>If a router receives more than one packet at the same time, it will analyze all the incoming
packets before generating any outgoing traffic.</p>

<p>At time index 0, a number of links failed and a single data packet was sent from router
<b>A</b> to router <b>B</b>. You are given the initial <b>layout</b> of the network as a String[],
the list of <b>failed</b> links as a int[] and the integers <b>A</b> and <b>B</b>.</p>

<p>The routers are labelled with integers between 1 and 99. Links in 
<b>layout</b> will be formatted as "ROUTER1 ROUTER2 TIME", meaning that the link connects routers labelled 
ROUTER1 and ROUTER2 and it takes TIME time units for packets to be sent over it. A value of x in <b>failed</b> 
means that the link described by element x of <b>layout</b> has failed (index is 0-based).</p>

<p>Return an int, the number of time units needed for the data
packet to reach router <b>B</b>. If the packet can never reach the destination, return -1.</p>
</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">AdaptiveRouting</td></tr><tr><td class="statText">Method:</td><td class="statText">deliveryTime</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[], int[], int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int deliveryTime(String[] layout, int[] failed, int A, int B)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">There can be more than one link connecting two routers.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>layout</b> will contain between 0 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>layout</b> will be formatted as "ROUTER1 ROUTER2 TIME" (quotes for clarity).</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">ROUTER1 and ROUTER2 in each element of <b>layout</b> will be distinct integers between 1 and 99, inclusive, without leading zeroes. </td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">TIME in each element of <b>layout</b> will be an integer between 1 and 10^7, inclusive, without leading zeroes.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>failed</b> will be between 0 and n-1, inclusive, where n is the number of elements in <b>layout</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>failed</b> will not contain duplicate elements.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>A</b> and <b>B</b> will be between 1 and 99, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>A</b> and <b>B</b> will be different.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;1 2 1&quot;, &quot;2 3 1&quot;, &quot;2 5 1&quot;, &quot;3 4 1&quot;, &quot;4 6 1&quot;, &quot;5 6 1&quot; }</pre></td></tr><tr><td class="statText"><pre>{ }</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>6</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">With no failed links, the packet gets sent by the shortest route (1 -> 2 -> 5 -> 6).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;1 2 1&quot;, &quot;2 3 1&quot;, &quot;2 5 1&quot;, &quot;3 4 1&quot;, &quot;4 6 1&quot;, &quot;5 6 1&quot; }</pre></td></tr><tr><td class="statText"><pre>{ 5 }</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>6</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 4</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The link between routers 5 and 6 has failed. After 1 time unit, the data packet gets to router 2. At that same moment word of the failed link gets to router 2 from router 5, so router 2 sends the packet through routers 3 and 4.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;1 2 1&quot;, &quot;1 2 22&quot; }</pre></td></tr><tr><td class="statText"><pre>{ 0 }</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 22</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The primary link has failed so the packet is sent through the auxiliary (slow) link.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;4 3 100&quot;, &quot;2 4 3&quot;, &quot;3 2 1&quot;, &quot;2 5 1&quot;, &quot;4 1 2&quot;, &quot;5 4 1&quot; }</pre></td></tr><tr><td class="statText"><pre>{ 2, 5 }</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>3</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 108</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;10 12 5&quot;, &quot;10 11 2&quot;, &quot;11 12 3&quot; }</pre></td></tr><tr><td class="statText"><pre>{ 2 }</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>12</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 9</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;53 21 6&quot;, &quot;53 21 4&quot;, &quot;9 85 4&quot;, &quot;9 90 7&quot;, &quot;53 90 1&quot;,
  &quot;21 9 7&quot;, &quot;85 7 5&quot;, &quot;90 47 7&quot;, &quot;85 9 3&quot;, &quot;53 85 5&quot;,
  &quot;7 47 9&quot;, &quot;53 7 9&quot;, &quot;7 47 1&quot;, &quot;21 47 6&quot;, &quot;90 47 2&quot; }
</pre></td></tr><tr><td class="statText"><pre>{ 14, 9, 7, 8, 0, 3 }</pre></td></tr><tr><td class="statText"><pre>53</pre></td></tr><tr><td class="statText"><pre>47</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 12</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">6)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ &quot;65 37 24&quot;, &quot;37 2 66&quot;, &quot;65 37 32&quot;, &quot;65 46 97&quot;,
  &quot;65 3 52&quot;, &quot;37 3 66&quot;, &quot;65 77 50&quot;, &quot;3 56 99&quot;,
  &quot;77 3 100&quot;, &quot;3 2 39&quot;, &quot;46 3 75&quot;, &quot;56 46 79&quot;,
  &quot;46 2 83&quot;, &quot;3 77 73&quot;, &quot;3 2 60&quot;, &quot;77 2 90&quot; }</pre></td></tr><tr><td class="statText"><pre>{ 10, 4, 0, 3, 8, 15, 12, 1, 13, 9, 7, 2 }</pre></td></tr><tr><td class="statText"><pre>65</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=10651&pm=7329">TCHS Single Round Match 27 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
