<html>
<head>
<title>Â Problem Statement for Nestable</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for Nestable</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText">We make cardboard boxes. We manufacture a variety of sizes and are concerned
that storing them and transporting them will be a problem unless we can nest
them into a reasonable number of nested stacks.  Each box is a rectangular 
solid and thus has three side lengths. We say that 
Box A can be nested in Box B
if its smallest length is strictly less than B's smallest length, its
2nd smallest length is strictly less than B's 2nd smallest length, and its 
largest length is strictly less than B's largest length.
No diagonal nesting is allowed.
<p>
We have automated the manufacturing process so that random sized boxes are
produced. We specify values <b>a</b>, <b>p</b>, and <b>n</b> and the machine produces n boxes with
dimensions:</p><ul><li>
     (a,a^2,a^3)  (a^4,a^5,a^6)  (a^7,a^8,a^9)  ...  (a^(3n-2),a^(3n-1),a^(3n))</li></ul>
where a^j denotes (a to the jth power) mod p.
<p>
Create a class Nestable that contains a method maxCount that is given the
positive integer values <b>a</b>, <b>p</b>, and <b>n</b> and that returns the size of the 
largest nestable collection of boxes, 
where a collection is nestable if every pair of boxes from
the collection can be nested.
</p><pre>
The sequence of boxes can be generated by
    int length=1;
    for(int i=0; i&lt;n; i++){
        length = (length*a)%p; int x=length;
        length = (length*a)%p; int y=length;
        length = (length*a)%p; int z=length;
        //process this box, which has dimensions x,y,z
    }
</pre>    
</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">Nestable</td></tr><tr><td class="statText">Method:</td><td class="statText">maxCount</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int maxCount(int a, int p, int n)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>p</b> is between 2 and 2,000,000,000 inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>a</b> is between 1 and <b>p</b>-1 inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">no power of <b>a</b> is divisible by <b>p</b></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>a</b>*<b>p</b> is less than or equal to 2,000,000,000</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>n</b> is between 1 and 50,000 inclusive</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>15</pre></td></tr><tr><td class="statText"><pre>3</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">

    The random generator produces 10, (10*10)%15=10, 10*10%15=10, ...
    so the three boxes are (10,10,10) (10,10,10)  (10,10,10). No pair of
    boxes is nestable, so the largest nestable collection has size 1.

</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>17</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 2</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">
    The sequence is 10, 100%17=15, 150%17=14, 140%17=4, 40%17=6, ...
    so the 4 boxes are (10,15,14) (4,6,9) (5,16,7) (2,3,13). 
    (4,6,9) nests inside (5,16,7) and there are many other pairs that nest,
    but there is no sequence of three boxes that can be nested inside each other.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>100000007</pre></td></tr><tr><td class="statText"><pre>40000</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1299</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>93</pre></td></tr><tr><td class="statText"><pre>21505374</pre></td></tr><tr><td class="statText"><pre>40000</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 151</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>7</pre></td></tr><tr><td class="statText"><pre>22</pre></td></tr><tr><td class="statText"><pre>8</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=4711&pm=1986">2003 TCO Finals - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
