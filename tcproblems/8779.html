<html>
<head>
<title>Â Problem Statement for CssRules</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for CssRules</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
In this problem we will use the terms XHTML and CSS. They do not match the real-world XHTML and CSS standards exactly. Read the problem statement to clarify the meanings of these terms in the problem context.
</p>
<p>
You are given a String[] <b>xhtml</b>. Concatenate elements of <b>xhtml</b> to get a single string formatted as <i>tags</i>. We use BNF to describe <i>tags</i> formally.
<ul>
<li>
	<i>tags</i> ::= <i>tag</i> | <i>tag</i> <i>tags</i>
</li>
<li>
	<i>tagContent</i> ::= EMPTY | <i>tags</i>
</li>
<li>
	<i>tag</i> ::= &lt;TAG id='ID' style='color:COLOR'&gt;<i>tagContent</i>&lt;/TAG&gt;
</li>
</ul>
Where 
<ul>
<li>
EMPTY means an empty string, 
</li>
<li>
TAG is one of the strings "b", "u", "i", which are called tag names.
</li>
<li>
ID means unique non-empty tag identifier containing only lowercase letters,
</li>
<li>
COLOR is one of the following seven standard colors: "black", "blue", "gray", "green",
            "red", "white", "yellow".
</li>
</ul>
The tags in <i>tagContent</i> are called strict descendants of the surrounding <i>tag</i>.
</p>
<p>
We will say that each tag is assigned the specified color. For example, if tags = "&lt;b id='x' style='color:white'&gt;&lt;u id='y' style='color:red'&gt;&lt;/u&gt;&lt;u id='z' style='color:red'&gt;&lt;/u&gt;&lt;/b&gt;", then the tag with id='x' is assigned the color white, and the tags with id='y' and id='z' are assigned the color red.
</p>
<p>
You decided to extract the information about assigned colors to CSS rules. Each CSS rule looks like "selector {color:COLOR;}" and assigns a specific color to one or more tags. In this problem we will accept only two types of selectors:
<ul>
<li>
"#id" ? means that CSS rule will be applied to the tag with the given id (example, "#x").
</li>
<li>
"#id tagName" ? means that CSS rule will be applied to all tags with the specified tag name which are the strict descendants of the tag with the given id (example, "#x u"). 
</li>
</ul>
CSS rules are applied in the order they are given, and it is possible for some later rules to override earlier rules for certain tags.
</p>
<p>
Return the minimal number of CSS rules you need to assign the proper color to each tag.
</p>
</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">CssRules</td></tr><tr><td class="statText">Method:</td><td class="statText">getMinimalCssRuleCount</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int getMinimalCssRuleCount(String[] xthml)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>xhtml</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>xhtml</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The concatenation of all elements of <b>xhtml</b> will satisfy the grammar given in the problem statement and conditions given after it.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;&lt;b id='x' style='color:red'&gt;&lt;/b&gt;&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Use only the rule "#x {color:red;}".
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;&lt;b id='x' style='color:red'&gt;&quot;,&quot;&lt;b id='y' style='color:red'&gt;&quot;,
 &quot;&lt;b id='z' style='color:red'&gt;&quot;,&quot;&lt;/b&gt;&lt;/b&gt;&lt;/b&gt;&quot;}
</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 2</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Use two rules "#x {color:red;}" and "#x b {color:red;}".</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;&lt;b id='x' style='color:red'&gt;&quot;,
&quot;&lt;b id='y' style='color:red'&gt;&quot;,
&quot;&lt;b id='w' style='color:red'&gt;&quot;,
&quot;&lt;/b&gt;&quot;,
&quot;&lt;/b&gt;&quot;,
&quot;&lt;u id='z' style='color:red'&gt;&quot;,
&quot;&lt;/u&gt;&quot;,
&quot;&lt;/b&gt;&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;&lt;b id='x' style='color:red'&gt;&quot;,
&quot;&lt;i id='y' style='color:black'&gt;&quot;,
&quot;&lt;u id='w' style='color:white'&gt;&quot;,
&quot;&lt;/u&gt;&quot;,
&quot;&lt;/i&gt;&quot;,
&quot;&lt;u id='z' style='color:yellow'&gt;&quot;,
&quot;&lt;/u&gt;&quot;,
&quot;&lt;/b&gt;&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 4</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;&lt;b id='x' style='col&quot;, &quot;or:red'&gt;&lt;/b&gt;&quot;, &quot;&lt;b id=&quot;, &quot;'xx' style='color&quot;, &quot;:red'&gt;&lt;/b&gt;&quot;}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 2</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=14426&pm=8779">Single Round Match 497 Round 1 - Division I, Level Two</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
