<html>
<head>
<title>Â Problem Statement for SequenceMerger</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for SequenceMerger</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText">In this problem, you will be given descriptions of several integer sequences, and you will be required to return elements at certain positions of the union of all the given sequences.  The union of several sequences is a sequence containing all the elements of those sequences, sorted in non-decreasing order.  For each integer x, the number of occurrences of x in the union is equal to the total number of occurrences of x in all the given sequences.  For example, if we are given sequences (3, 2, 2, 3), (1) and (5, 7, 1), their union is the sequence (1, 1, 2, 2, 3, 3, 5, 7).
<br><br>
Each of the given sequences will be an arithmetic sequence, a geometric sequence or an explicit sequence.
<ul><li>
An arithmetic sequence is described by three positive integers <i>A</i>, <i>B</i> and <i>C</i>. The sequence contains exactly <i>C</i> elements: <i>A</i>, <i>A+B</i>, <i>A+B+B</i>, ..., <i>A+B*(C-1)</i>. Formally, the sequence is { <i>A</i>+<i>B</i>*x | x an integer between 0 and  <i>C</i>-1, inclusive}.
</li><li>
A geometric sequence is described by three positive integers <i>A</i>, <i>B</i> and <i>C</i>. The sequence contains exactly <i>C</i> elements: <i>A</i>, <i>A*B</i>, <i>A*B*B</i>, ..., <i>A*B^(C-1)</i>. Formally, the sequence is { <i>A</i>*<i>B</i>^x | x an integer between 0 and  <i>C</i>-1, inclusive}.
</li><li>
An explicit sequence is just a non-empty sequence of arbitrary positive integers.
</li></ul>
Each sequence will be represented as a String, where the first character is 'A', 'G' or 'E', denoting arithmetic, geometric or explicit sequences, respectively.  The second character will always be a space.  After that is a list of positive integers, where each integer is written with no leading zeroes, consecutive integers are separated by a single space, and there are no leading or trailing spaces.  In the case of arithmetic and geometric sequences, this list will always contain exactly three integers, <i>A</i>, <i>B</i> and <i>C</i>, in that order, as described above for each type of sequence.  For explicit sequences, the list will contain one or more integers, explicitly representing the members of the sequence.
<br><br>
You will be given a String[] <b>seqs</b>, where each element represents a sequence as described in the previous paragraph, and a int[] <b>positions</b>, which contains a list of 1-based positions.  Return a int[] containing the same number of elements as <b>positions</b>, such that its i-th element is the element at position <b>positions</b>[i] of the union of all the sequences in <b>seqs</b>.  If the union contains less than <b>positions</b>[i] elements or if the element at position <b>positions</b>[i] of the union is strictly greater than 1000000000 (10^9), the i-th element of the return must be -1 instead.  See examples for further clarification.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">SequenceMerger</td></tr><tr><td class="statText">Method:</td><td class="statText">getVal</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[], int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int[]</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int[] getVal(String[] seqs, int[] positions)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The elements of the given sequences don't necessarily fit within 32-bit or 64-bit integer types.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>positions</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>positions</b> will be between 1 and 1000000000 (10^9), inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>seqs</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>seqs</b> will contain between 3 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>seqs</b> will be formatted as described in the problem statement.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;E 1 1000000000 1000000001&quot;}</pre></td></tr><tr><td class="statText"><pre>{1,2,3,4}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {1, 1000000000, -1, -1 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The sequence here has only 3 elements. The first two elements are returned normally. The element at position 3 is strictly greater than 1000000000, so you must return -1 in that place. There is no element at position 4, so you must also return -1 there.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;A 1 1 10&quot;, &quot;G 1 2 4&quot;}</pre></td></tr><tr><td class="statText"><pre>{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {1, 1, 2, 2, 3, 4, 4, 5, 6, 7, 8, 8, 9, 10, -1 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The arithmetic sequence is 1, 2, 3, 4, 5, 6, 7, 8, 9, 10. The geometric sequence is 1, 2, 4, 8. Therefore, the resulting sequence is 1, 1, 2, 2, 3, 4, 4, 5, 6, 7, 8, 8, 9, 10.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;A 1000000000 1000000000 1000000000&quot;,&quot;G 100000000000000000 1000000000000 100000000000000&quot;, &quot;E 1000000000000000 10000000 10 1111&quot;}</pre></td></tr><tr><td class="statText"><pre>{1,2,3,4,5,6,7,8,9,10}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {10, 1111, 10000000, 1000000000, -1, -1, -1, -1, -1, -1 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Watch out for big numbers.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;G 1 1 999999999&quot;, &quot;E 2&quot;}</pre></td></tr><tr><td class="statText"><pre>{1,999999999,1000000000}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {1, 1, 2 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">A lot of 1s and a 2.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;A 100 341 1524&quot;, &quot;G 1 3 45235&quot;, &quot;E 653 87 12341 8785 123 543&quot;}</pre></td></tr><tr><td class="statText"><pre>{100000,1,10,10000,100,1000}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {-1, 1, 441, -1, 28403, 334621 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=14294&pm=10887">2010 TCO Algorithm Qualification Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
