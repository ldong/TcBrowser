<html>
<head>
<title>Â Problem Statement for Deposit</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for Deposit</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText">A team of geologists is searching a site expected to have a rich mineral deposit. Both the site and the deposit can be represented by convex polygons such that the deposit polygon is located completely inside the site polygon. The coordinates of the site polygon's vertices will be given in the int[]s <b>siteX</b> and <b>siteY</b>, and the coordinates of the deposit polygon's vertices will be given in the int[]s <b>depositX</b> and <b>depositY</b>. Each of these two sets of points is given in counter-clockwise order, starting from an arbitrary initial vertex. The size of the team is very small compared to the sizes of the site and deposit, so we shall represent the team by a point.
<br><br>
Since the site is so large, the team cannot explore all of it. Instead, they will start at a point chosen uniformly at random from all points on the site boundary, and move in a straight line towards a point on the site boundary which is farthest away from the starting point. If several points on the boundary are farthest away from the starting point, the team chooses one of them with equal probability. The team's analysts are hoping that this method will give the team a high chance of finding the deposit. 
<br><br>
Let us say that the team finds the deposit if the team's path and the deposit region intersect in at least one point. Return the probability that the team finds the deposit.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">Deposit</td></tr><tr><td class="statText">Method:</td><td class="statText">successProbability</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int[], int[], int[], int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double successProbability(int[] siteX, int[] siteY, int[] depositX, int[] depositY)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The returned value must have an absolute or relative error less than 1e-9.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">A polygon is convex if it does not intersect itself, and every straight line joining any two interior points of the polygon is entirely contained in the polygon's interior.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>siteX</b>, <b>siteY</b>, <b>depositX</b> and <b>depositY</b> will each contain between 3 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>siteX</b> and <b>siteY</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>depositX</b> and <b>depositY</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>siteX</b>, <b>siteY</b>, <b>depositX</b> and <b>depositY</b> will be between -1000 and 1000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The points (<b>siteX[i]</b>, <b>siteY[i]</b>), taken in order, will describe a counterclockwise traversal of vertices in a convex polygon.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The points (<b>depositX[i]</b>, <b>depositY[i]</b>), taken in order, will describe a counterclockwise traversal of vertices in a convex polygon.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">In each of the polygons, no three adjacent vertices will lie on the same line.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The deposit polygon will be located entirely in the interior of the site polygon. The boundaries of the two polygons will not intersect.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{0,4,4,0}</pre></td></tr><tr><td class="statText"><pre>{0,0,4,4}</pre></td></tr><tr><td class="statText"><pre>{1,2,2,1}</pre></td></tr><tr><td class="statText"><pre>{1,1,2,2}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.6666666666666666</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">In the picture below, the outer square represents the site and the inner square represents the deposit. The blue sections of the site's perimeter consist of points which would lead to failure if they were chosen as the start of the team's path. The coordinates of these ranges are given (in blue). The white sections show the starting points for a successful path.<br><br>
<img src="http://www.topcoder.com/contest/problem/Deposit/tc_hard_test1_new.png">
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{0,4,4,0}</pre></td></tr><tr><td class="statText"><pre>{0,0,4,4}</pre></td></tr><tr><td class="statText"><pre>{1,3,3,1}</pre></td></tr><tr><td class="statText"><pre>{1,1,3,3}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here, the team will always find the deposit.
<br>
<img src="http://www.topcoder.com/contest/problem/Deposit/tc_hard_test2_new.png">
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{5,2,-1,0,4}</pre></td></tr><tr><td class="statText"><pre>{3,4,2,0,0}</pre></td></tr><tr><td class="statText"><pre>{3,3,4}</pre></td></tr><tr><td class="statText"><pre>{3,2,1}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.6112700209855423</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><img src="http://www.topcoder.com/contest/problem/Deposit/tc_hard_test3_new.png"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{200,-99,-405,-601,-708,-494,-300,-88}</pre></td></tr><tr><td class="statText"><pre>{520,516,407,321,104,-97,-221,-101}</pre></td></tr><tr><td class="statText"><pre>{-101,-201,-296,-400,-402}</pre></td></tr><tr><td class="statText"><pre>{318,396,402,305,200}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.49892756207100747</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{-3,6,10,10,-2}</pre></td></tr><tr><td class="statText"><pre>{-1,-10,-9,7,3}</pre></td></tr><tr><td class="statText"><pre>{3,5,6,4}</pre></td></tr><tr><td class="statText"><pre>{-5,-7,-6,-4}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.16641662251521538</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{-2,4,-2}
</pre></td></tr><tr><td class="statText"><pre>{-2,-2,8}
</pre></td></tr><tr><td class="statText"><pre>{-1,0,0}
</pre></td></tr><tr><td class="statText"><pre>{0,-1,0}
</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.04518850219072291</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=14238&pm=10308">Member Single Round Match 485 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
