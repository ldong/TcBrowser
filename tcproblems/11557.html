<html>
<head>
<title>Â Problem Statement for MatrixPower</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for MatrixPower</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><i>NOTE: This problem statement contains subscripts/superscripts that may not display properly if viewed outside of the applet.</i><br><br>
Raising a matrix to a power efficiently is a well known problem in computer science. Let A be matrix with elements a<sub>ij</sub> where: 0 &lt;= i,j &lt; <b>n</b>. The value of each element is given by:<br>
a<sub>ij</sub> = <b>d</b>*i + <b>q</b><sup>j</sup><br>
Let B be the resulting matrix from raising A to the <b>k</b>-th power: B = A<sup><b>k</b></sup>.<br>
B has elements b<sub>ij</sub>. You are to return some specific elements from B. The parameters <b>rows</b> and <b>columns</b> specify which elements. Element t of your return should contain the value of b<sub>ij</sub> where i = <b>rows</b>[t] and j = <b>columns</b>[t].
<br><br>
You are given ints <b>d</b>, <b>q</b>, <b>n</b>, <b>k</b> and int[]s <b>rows</b> and <b>columns</b>. Return an int[] containing the values of some elements, b<sub>ij</sub>, modulo 1,000,000,007.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">MatrixPower</td></tr><tr><td class="statText">Method:</td><td class="statText">getElements</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int, int, int, int[], int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int[]</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int[] getElements(int d, int q, int n, int k, int[] rows, int[] columns)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>d</b> will be between 0 and 10^9, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>q</b> will be between 1 and 10^9, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>n</b> will be between 1 and 10,000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>k</b> will be between 1 and 10^9, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>rows</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>columns</b> will contain the same number of elements as <b>rows</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>rows</b> will be between 0 and <b>n</b>-1, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>columns</b> will be between 0 and <b>n</b>-1, inclusive.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>{0,0,1,1}</pre></td></tr><tr><td class="statText"><pre>{0,1,0,1}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {5, 8, 8, 13 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">A contains rows [1, 2] and [2, 3]. Then B = A<sup>2</sup> contains rows [1*1+2*2, 1*2+2*3] = [5, 8] and [2*1+3*2, 2*2+3*3] = [8, 13].</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>3</pre></td></tr><tr><td class="statText"><pre>{0,1,2,3,4,5,6,7,8,9}</pre></td></tr><tr><td class="statText"><pre>{0,1,2,3,4,5,6,7,8,9}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {100, 100, 100, 100, 100, 100, 100, 100, 100, 100 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">A is a 10x10 matrix containing only 1s. A<sup>2</sup> contains only 10s and B = A<sup>3</sup> contains only 100s.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>1000000000</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>1000000000</pre></td></tr><tr><td class="statText"><pre>{0,0,0}</pre></td></tr><tr><td class="statText"><pre>{0,0,0}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {1, 1, 1 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">You may be asked to return the value of the same element more the once.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>1000000000</pre></td></tr><tr><td class="statText"><pre>1000000000</pre></td></tr><tr><td class="statText"><pre>100</pre></td></tr><tr><td class="statText"><pre>1000000000</pre></td></tr><tr><td class="statText"><pre>{0}</pre></td></tr><tr><td class="statText"><pre>{0}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: {380113608 }</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=14649&pm=11557">2011 TCO Algorithm Semifinal 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
