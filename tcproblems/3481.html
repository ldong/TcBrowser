<html>
<head>
<title>Â Problem Statement for PackageShipping</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for PackageShipping</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText">Shipping is a complicated business, particularly when you are shipping fragile items.  To do well, you need to deliver packages quickly, at a low cost, and without breaking them.  To this end, you would like software to help you send a package, given the package's cost and the maximum delivery time.  There are a number of different routes that are continually traversed by your fleet of trucks.  Each route takes a certain amount of time, and it costs a certain amount to send a package along that route.  Furthermore, there is a probability associated with each route indicating the percent chance that a package will be damaged along that route.<br><br>
As the shipping company, you must pay the cost of an item if it is damaged during shipping.  Your goal is to find the way to ship an item with the lowest expected cost.  For example, if one shipping plan has a cost of X, but a 50% probability of damaging an item, it might end up with a higher expected cost than a plan that has a cost of 2X but only a 5% chance of damaging an item.<br><br>
You will be given a String[], <b>routes</b>, each element of which represents a single route and will be formatted as<br>&quot;ORIGIN DESTINATION TIME COST PROBABILITY&quot;<br> where ORIGIN and DESTINATION are city codes (sequences of uppercase letters), TIME is an integer between 1 and 50, COST is an integer between 1 and 20, and PROBABILITY is a real number between 0 and 10, all ranges inclusive.  The inputs <b>origin</b> and <b>destination</b> are the starting and ending points for the package to be delivered.  <b>time</b> is the maximum allowed delivery time, and is in the same units as TIME in <b>routes</b>.  <b>cost</b> is the cost of the package, and is in the same units as COST in <b>routes</b>.  You should find the shipping plan with the lowest expected cost, and return that cost as a double.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">PackageShipping</td></tr><tr><td class="statText">Method:</td><td class="statText">ship</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[], String, String, int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double ship(String[] routes, String origin, String destination, int time, int packageCost)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">A route from A to B does not imply a route from B to A.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">You may assume that there is no waiting time when a package is transferred from one route to another.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">You won't know that a package is damaged until it reaches its destination, so you must still send it all the way to the destination, even if it is damaged at the beginning of the trip.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>routes</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>routes</b> will be formatted as &quot;ORIGIN DESTINATION TIME COST PROBABILITY&quot;, with no double, leading or trailing spaces.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>routes</b> will contain between 9 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">ORIGIN and DESTINATION will each be sequences of uppercase letters ('A'-'Z')</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">In no element of <b>routes</b> will ORIGIN equal DESTINATION.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">TIME will be an integer between 1 and 50, inclusive, with no leading zeros.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">COST will be an integer between 1 and 20, inclusive, with no leading zeros.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">PROBABILITY will be between 0 and 10, inclusive, and will be formatted as a sequence of 1 or more digits ('0'-'9') and an optional decimal point (extra leading/trailing zeros allowed).</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>origin</b> will be a sequence of uppercase letters matching an ORIGIN in some element of <b>routes</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>destination</b> will be a sequence of uppercase letters matching a DESTINATION in some element of <b>routes</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>time</b> will be between 1 and 100, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>packageCost</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">There will be some way to deliver the package in the given amount of time or less.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">No two elements of <b>routes</b> will have the same origin and destination.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>origin</b> and <b>destination</b> will not be the same.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;SANFRAN CHICAGO 20 3 0.4&quot;,
 &quot;SANFRAN MEMPHIS 30 5 1.0&quot;,
 &quot;CHICAGO NEWYORK 15 2 2.0&quot;,
 &quot;MEMPHIS NEWYORK 8 6 0.1&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;SANFRAN&quot;</pre></td></tr><tr><td class="statText"><pre>&quot;NEWYORK&quot;</pre></td></tr><tr><td class="statText"><pre>100</pre></td></tr><tr><td class="statText"><pre>100</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 7.392000000000005</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">There are two possibilities here.  We can ship the package through either CHICAGO or MEMPHIS.  If we ship the package through CHICAGO, it will cost us 5, and there will be a 2.392% chance that it will be damaged.  If we ship through MEMPHIS, it will cost 11, but there will only be a 1.099% chance of damage.  Since the package has a cost of 100, the first option will have an expected cost of 7.392, while the second will have an expected cost of 12.099.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;SANFRAN CHICAGO 20 3 0.4&quot;,
 &quot;SANFRAN MEMPHIS 30 5 1.0&quot;,
 &quot;CHICAGO NEWYORK 15 2 2.0&quot;,
 &quot;MEMPHIS NEWYORK 8 6 0.1&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;SANFRAN&quot;</pre></td></tr><tr><td class="statText"><pre>&quot;NEWYORK&quot;</pre></td></tr><tr><td class="statText"><pre>100</pre></td></tr><tr><td class="statText"><pre>10000</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 120.90000000000055</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here we have the same shipping routes as example 0, but for a more expensive package.  Shipping through CHICAGO will have an expected cost of 5 + 239.2 = 244.2, while MEMPHIS will have an expected cost of 11 + 109.9 = 120.9.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;SANFRAN CHICAGO 20 3 0.4&quot;,
 &quot;SANFRAN MEMPHIS 30 5 1.0&quot;,
 &quot;CHICAGO NEWYORK 15 2 2.0&quot;,
 &quot;MEMPHIS NEWYORK 8 6 0.1&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;SANFRAN&quot;</pre></td></tr><tr><td class="statText"><pre>&quot;NEWYORK&quot;</pre></td></tr><tr><td class="statText"><pre>36</pre></td></tr><tr><td class="statText"><pre>10000</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 244.20000000000053</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">In this case, the time constraint forces us to send the package along the more expensive route through CHICAGO.</td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=6530&pm=3481">2005 TCCC Round 3 - Division I, Level Two</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
