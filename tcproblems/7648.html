<html>
<head>
<title>Â Problem Statement for SafeDrive</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for SafeDrive</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>
You have a very important meeting to attend, and you don't want to be late for it.  You are currently at coordinate 0, and the meeting is being held at coordinate <b>D</b> (in meters) in <b>T</b> seconds.  Unfortunately, there are a number of traffic lights between you and your destination.
</p>
<p>
The i-th element of <b>lights</b> describes a single traffic light and is formatted as "a b pos" (quotes for clarity).  pos is the coordinate of the light (in meters), and the numbers a and b describe the light's behavior.  Starting at time 0, the light is red for a seconds, then green for the next b seconds, then red for the next a seconds, and so on.  In other words, between time 0 (inclusive) and time a (exclusive), the light is red, between time a (inclusive) and time a+b (exclusive), it is green, between time a+b (inclusive) to 2*a+b (exclusive), it is red again, and so on.  If you arrive at a traffic light when it is red, you cannot pass until it becomes green (otherwise, you would get a ticket).  For example, if you arrive at a traffic light where a = 3 and b = 4, you cannot pass at times 0, 1.5 or 7, but you can pass at times 3, 5.33 or 6.99.
</p>
<p>
You must get to your meeting in <b>T</b> seconds or less, and to reduce your risk of getting a speeding ticket, you must do so while minimizing your maximum speed along the way.  Return this maximum speed (in meters per second).  If it is not possible to arrive on time, return -1 instead.
</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">SafeDrive</td></tr><tr><td class="statText">Method:</td><td class="statText">minSpeed</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[], int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double minSpeed(String[] lights, int T, int D)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The return value is actually the infimum of the set of all possible maximum speeds that allow you to arrive at the meeting on time.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The returned value must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>lights</b> will contain between 0 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>lights</b> will contain between 5 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>lights</b> will be formatted as "a b pos" (quotes for clarity), where a, b and pos are each integers between 1 and 1,000,000,000, inclusive, with no leading zeroes.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">There will be no traffic light at position <b>D</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">No two traffic lights will be at the same position.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>T</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>D</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;3 4 3&quot;}</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">If you drive at a constant speed of one meter per second, you will arrive at the only traffic light at time 3.  The light becomes green at exactly this time, so you can pass without stopping.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;3 4 7&quot;}</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">In this case, if you drove at a constant speed of one meter per second, you would arrive at the traffic light at time 7, when the light switched to red.  You would then have to wait three seconds for it to turn green, and you would end up being late.  Therefore, you must drive just a little faster, so you can catch the light while it's green.  Note that this speed is arbitrarily close to 1.0, however, and a return of 1.0 is correct.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;2 3 2&quot;, &quot;3 2 9&quot;}</pre></td></tr><tr><td class="statText"><pre>12</pre></td></tr><tr><td class="statText"><pre>16</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.7500000000000004</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">It is of no use to drive faster than one meter per second until you reach the first traffic light.  Then you have two options.  The first one is to drive fast enough to reach the second light while it is still green, with a speed just a little over 2.33 meters per second. After you pass the traffic light, a speed of one meter per second is enough to arrive at the meeting on time.  The other option is to drive slower, say with a speed of 1.16 meters per second, and reach the second traffic light at time 8.  Then you would have to drive at a speed of 1.75 meters per second to arrive just in time for the meeting.  Clearly, the better choice is the second one, where the maximum speed is 1.75 as opposed to approximately 2.33 in the first case.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;1 2 3&quot;, &quot;2 2 5&quot;, &quot;3 3 7&quot;, &quot;1 6 9&quot;, &quot;3 4 11&quot;}</pre></td></tr><tr><td class="statText"><pre>12</pre></td></tr><tr><td class="statText"><pre>13</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1.25</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;2 2 6&quot;, &quot;4 5 3&quot;, &quot;3 2 8&quot;}</pre></td></tr><tr><td class="statText"><pre>7</pre></td></tr><tr><td class="statText"><pre>10</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1.0</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Unfortunately, there is at least one red light at every moment of time left until the meeting, so you can't make it.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;99 190 2723&quot;, &quot;239 138 6411&quot;, &quot;262 235 2509&quot;, &quot;62 60 6494&quot;, 
 &quot;16 70 4938&quot;, &quot;70 59 4701&quot;, &quot;172 165 5118&quot;, &quot;16 256 7816&quot;,
 &quot;31 40 213&quot;, &quot;189 183 1955&quot;, &quot;186 11 4485&quot;, &quot;175 281 9816&quot;,
 &quot;152 242 8116&quot;, &quot;180 11 5899&quot;, &quot;274 189 3978&quot;}</pre></td></tr><tr><td class="statText"><pre>695</pre></td></tr><tr><td class="statText"><pre>5323</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 9.728682170542637</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=10713&pm=7648">2007 TCHS Tournament Beta Round 3 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
