<html>
<head>
<title>Â Problem Statement for ActivateTree</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for ActivateTree</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>Petya likes oriented graphs, especially rooted trees. He has such a tree described in a String <b>target</b>. Every edge may be in an <i>active</i> or <i>inactive</i> state. Initially every edge is in an inactive state. Petya wants to change the states of all the edges so that they are all active. To do so he has some trees described in a String[] <b>trees</b> in which each element describes a single tree. Initially, every edge in <b>target</b> is inactive and he must activate them by repeating the following process:</p>
<p><ol>
<li>He chooses some vertex V from <b>target</b> and some tree T from <b>trees</b>. The pair (V, T) can only be chosen once overall.</li>
<li>He chooses a subtree T' from <b>target</b> that is rooted at V and is isomorphic to T (see notes for a definition if required).</li>
<li>The state of every edge in T' is toggled (i.e., if it was active, it becomes inactive; if it was inactive it becomes active).</li>
</ol></p>
<p>Each time he follows the process he incurs a cost that depends on which tree he selected. If he selects <b>trees</b>[i] it costs him <b>costs</b>[i]. Petya also likes the number 5 and so no vertex in <b>target</b> will have more than 5 children. Return the minimum cost of activating all the edges in <b>target</b> or -1 if it is impossible to do so.</p>
<p><b>target</b> and the trees in <b>trees</b> will be described using the same format:</p>
<p><ul>
<li>The vertices are indexed sequentially starting with the root as vertex 0.</li>
<li>The parent of each vertex in index order is then written in a space-separated list. I.e., if the i-th number written (zero-indexed) is p[i],
it means that there is a directed edge from vertex p[i] to vertex i in the tree. Since the root has no parent, the first number in the list will
be -1 instead.</li>
</ul>
</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">ActivateTree</td></tr><tr><td class="statText">Method:</td><td class="statText">minCost</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[], String, int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int minCost(String[] trees, String target, int[] costs)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Two trees T and T' are <i>isomorphic</i> if there exists a 1-to-1 mapping between the vertices of T and T', such that for each pair of vertices V1 and V2 in T, there is an edge (V1, V2) if and only if and edge exists between the corresponding vertices of T'. I.e., one tree can be transformed into the other simply by relabelling the vertices.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>target</b> will contain between 1 and 46 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>trees</b> will contain between 1 and 5 elements inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>trees</b> will contain between 4 and 10 characters.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>target</b> and each element of <b>trees</b> will be single-space delimited lists of integers formatted without leading zeros, with no leading or trailing spaces.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>target</b> will contain between 2 and 16 integers, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>trees</b> will contain between 2 and 5 integers, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The first integer in <b>target</b> and in each element of <b>trees</b> will be -1.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>target</b> and each element of <b>trees</b> will describe valid trees as specified in the problem statement.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">No vertex in the tree represented by <b>target</b> will have more than 5 children.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>costs</b> will contain the same number of elements as <b>trees</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>costs</b> will be between 0 and 65536, inclusive.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;-1 0&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;-1 0&quot;</pre></td></tr><tr><td class="statText"><pre>{5}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 5</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;-1 0&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;-1 0 0&quot;</pre></td></tr><tr><td class="statText"><pre>{5}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;-1 0&quot;,&quot;-1 0&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;-1 0 0&quot;</pre></td></tr><tr><td class="statText"><pre>{1,101}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 102</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Petya can not use the first tree twice in the same position so he has to pay once for each of the trees.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;-1 0&quot;,&quot;-1 0&quot;,&quot;-1 0 3 0&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;-1 0 3 0&quot;</pre></td></tr><tr><td class="statText"><pre>{5,10,21}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 20</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here it is cheaper to use the first tree twice and the second tree once than to use only the third tree.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{&quot;-1 0 1&quot;,&quot;-1 0 0&quot;,&quot;-1 0&quot;,&quot;-1 0 1 0 2&quot;}</pre></td></tr><tr><td class="statText"><pre>&quot;-1 0 0 0 2&quot;</pre></td></tr><tr><td class="statText"><pre>{3885,13122,31377,21317}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 17007</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=14179&pm=10720">Member Single Round Match 455 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
