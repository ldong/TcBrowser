<html>
<head>
<title>Â Problem Statement for KingOfTheCourt</title>
</head>
<body>
<table border="0" cellspacing="0" cellpadding="10" width="100%">
           <tr>
             <td valign="top" width="100%"><img src="/i/clear.gif" alt="" width="240" height="1" border="0"><br>
               <table border="0" cellspacing="0" cellpadding="0" width="100%">
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   
                     <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">&#160;Problem Statement for KingOfTheCourt</td>
                   
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="1" border="0"></td>
                 </tr>
                 <tr>
                   <td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>You and several friends are playing a tennis game called king of the court.  The idea behind
the game is that one person is the &quot;king of the court&quot;, and each of the other players, in turn,
tries to win two points before the king wins one point.  An opponent who successfully scores two
points without allowing the king to score becomes the new king of the court; otherwise, he returns
to the back of the line to wait to play again.  When the king is defeated, the winner becomes the
new king, and the king returns to the back of the line.  A player is declared the winner when
he or she has been the king and consecutively defeated each of the other opponents.</p>
<p>You are given a int[] <b>ability</b>, where each element of <b>ability</b> is the
relative skill level of each given player.  The first element of <b>ability</b> refers to the
player who is king initially.  The remaining players are lined up to play, in the same order that
they appear in <b>ability</b>.</p>
<p>On any given turn, the probability that a player A will win the point against player B is
based upon their relative skill level.  Thus, if two players have skill levels <i>A</i> and
<i>B</i>, the probability that the first player will win the point (regardless of who is king)
is <i>A</i>/(<i>A</i>+<i>B</i>).</p>
<p>You are to return a double indicating the probability that the player who is
king initially will go on to win the game.</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">KingOfTheCourt</td></tr><tr><td class="statText">Method:</td><td class="statText">chancesOfWinning</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double chancesOfWinning(int[] ability)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">At the start of the game, the king has not yet defeated any opponents.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Your return must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>ability</b> will contain between 2 and 7 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>ability</b> will be between 1 and 99, inclusive.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 1, 1 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.8</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><p>Here, it is just you and a friend of the same ability.  So, on any given point either of you has a 50% chance of winning.  Thus, on each round, whoever is king has 75% odds, and the non-king has 25% odds.</p>
<p>Thus, there is a 75% chance you win the game on the first round, or a 25% chance that you go to another round, at which point there's a 25% chance of you once again becoming king.  This suggests the following equation, where <i>p</i> is the probability that you win the game:</p>
<p><i>p</i> = .75<i>p</i> + .25 * .25<i>p</i></p>
<p>Solving, we get <i>p</i> = 80%</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 2, 1 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.9350649350649349</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><p>Here, you are twice as good as your friend, so the chances of you winning a round as king are 8/9.  Your chances of winning while not king are 4/9.  In an equation similar to above:</p>
<p><i>p</i> = (8/9) * <i>p</i> + (1/9) * (4/9) * <i>p</i></p>
<p>Solving, we get <i>p</i> = 72 / 77</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 1, 2 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.5844155844155844</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><p>Here, your friend is better than you.  But, starting as king gives you some advantage.</p>
<p><i>p</i> = (5/9) * <i>p</i> + (4/9) * (1/9) * <i>p</i></p>
<p>Solving, we get <i>p</i> = 45 / 77</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 1, 1, 1, 1 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.5065812082824602</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Now it's you with three other friends.  Note that even though you're all of equal ability, starting as king provides a serious advantage.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{ 47, 82, 65, 99, 2, 14, 9 }</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.22734781036506918</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>
                 </tr>
                 <tr>
                   <td colspan="7"><img src="/i/clear.gif" alt="" width="1" height="3" border="0"></td>
                 </tr>
                 <tr>
                   <td background="/i/steel_blue_bg.gif" class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="5" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7"><img src="/i/clear.gif" alt="" width="1" height="16" border="0"></td>
                 </tr>
                 <tr>
                   <td class="statText" colspan="7">
                      This problem was used for:
   
   	<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/tc?module=ProblemDetail&rd=5868&pm=3440">Single Round Match 222 Round 1 - Division I, Level Three</a>
   
                   
                   </td>
                 </tr>


               </table>
             </td>
           </tr>
           <tr>
             <td width="100%"><img src="/i/clear.gif" alt="" width="1" height="10" border="0"></td>
           </tr>
         </table>
</body>
</html>
